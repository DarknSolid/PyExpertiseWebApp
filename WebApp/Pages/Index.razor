@page "/"
@using System.ComponentModel.DataAnnotations;
@using WebApp.Models;

<PageTitle>PyExpertise</PageTitle>

<MudText Typo="Typo.h3" GutterBottom="true">Enter your GitHub Information</MudText>

<EditForm Model="@infoModel" OnValidSubmit="OnValidSubmit">
    <DataAnnotationsValidator />
    <MudCardContent>
        <MudTextField Label="Email"
                      Class="mt-3" HelperText="The email of your GitHub account"
                      @bind-Value="infoModel.Email"
                      For="@(() => infoModel.Email)" />
        <MudTextField Label="GitHub Url"
                      HelperText="The master branch GitHub url of your python project"
                      @bind-Value="infoModel.Url"
                      For="@(() => infoModel.Url)" />
    </MudCardContent>
    <MudCardActions>
        <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto">Analyse</MudButton>
    </MudCardActions>
</EditForm>

@code {
    private InfoModel infoModel;

    public Index()
    {
        infoModel = new();
    }

    private void OnValidSubmit()
    {
        StateHasChanged();
    }
}